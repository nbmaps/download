<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nextbike GeoData Downlaoder</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap" id="main-wrap">
    <section class="panel" id="left-panel">
      <div class="panel-content">
        <label for="countrySelect" class="label-de-emphasized">Land filtern (optional)</label>
        <select id="countrySelect"></select>

        <label for="brandInput" class="label-emphasized">Marke/System suchen</label>
        <div class="autocomplete-container">
            <input type="text" id="brandInput" placeholder="Marke/System tippen..." disabled>
            <div class="autocomplete-results" id="brandResults"></div>
        </div>

        <label for="citySelect" class="label-de-emphasized">Stadt filtern (optional)</label>
        <select id="citySelect" disabled></select>

        <hr style="border:none; border-top: 1px solid var(--border-gray); margin: 20px 0;">

        <div>
                <label for="quickFilter">Schnellfilter</label>
                <input id="quickFilter" type="text" placeholder="z.B. â€žHauptbahnhofâ€œ" />
            </div>
        
        <div class="checkbox-container hidden" id="flexzone-toggle-container">
            <input type="checkbox" id="flexzonesCheckbox" checked>
            <label for="flexzonesCheckbox">Flexzonen anzeigen</label>

          <input type="checkbox" id="businessAreasCheckbox" checked>
          <label for="businessAreasCheckbox">Business Areas anzeigen</label>
      </div>

        <div class="row">
          <button class="primary" id="loadBtn"><span id="loadIcon"></span>laden</button>
        </div>
        <div class="load-status" id="load-status">Initialisiere...</div>
      </div>
    </section>

    <div class="toggle-container" id="left-toggle-container">
        <button id="toggle-left-panel" class="panel-toggle-btn" title="Steuerung einklappen">â—€</button>
    </div>

    <section id="map-container">
      <div id="map"></div>
    </section>

    <div class="toggle-container" id="right-toggle-container">
        <button id="toggle-right-panel" class="panel-toggle-btn" title="GeoJSON einklappen">â–¶</button>
    </div>

    <section class="panel" id="right-panel">
        <div class="panel-content" style="display: flex; flex-direction: column;">
            <textarea id="geojson-output" readonly placeholder="Hier erscheint der GeoJSON-Code..."></textarea>
            <div class="row">
                <button class="primary" id="geojsonBtn" disabled>ðŸ’¾ Stationen (.geojson)</button>
                <button class="primary" id="zipBtn" disabled>ðŸ’¾ System (.geojson in .zip)</button>
            </div>
        </div>
    </section>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="script.js" defer></script>
</body>
</html>
